<div class="title">
  <h2><%= term_filter || 'All' %></h2>
  <h1><%= plural_title %></h1>
  <%= link_for :new, new_resource %>
  <%= link_for :search, controller_model %>
  <%= link_for :import, controller_model %>
  <%= link_for :export, new_resource %>
</div>
  
<div class="scroller">
  <div class="table">
    <div>
      <span class="spacer"></span>
      <span class="select">
        <%= check_box_tag(nil, true) %>
      </span>
      <span class="image"></span>
      <% fields(:index).each do |field| %>
        <span><%= header_content(field) %></span>
      <% end %>
      <span class="spacer"></span>
    </div>
    <script type="text/javascript">
      window.rowData = <%= collection.as_json(index: true).to_json.html_safe %>;
      window.rowGenerator = function(row) {
        return '<a href="<%= "#{request.path}/" %>' + row.id + '" data-id="' + row.id +
          '"><span class="spacer"></span><span class="select"><input type="checkbox" value="' +
          row.id + '" name="<%= "#{export_attr}" %>"></span><span class="image">' +
          (row.index_image ? '<img src="' + row.index_image +'" width=28 height=35 />' : '') +
          '</span><span>' + row.identifier + '</span><span>' + row.name +
          '</span><span>' + row.grade + '</span><span>' + (row.teacher_name || '<%= none %>') +
          '</span><span class="spacer"></span></a>';
      };
    </script>
  </div>
</div>